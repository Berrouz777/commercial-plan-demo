# CommercialPlan Component Demo

Демонстрационный репозиторий с кодом компонента `CommercialPlan.vue`, который используется на странице коммерческих помещений проекта [Береговой](https://beregovoy-kvartal.ru/commercial).

## О компоненте

Этот репозиторий содержит исходный код компонента выбора коммерческих помещений, который реализует интерактивный интерфейс для работы с генпланом здания. Компонент позволяет:

- Переключаться между этажами (1 и 2 очередь)
- Группировать помещения по категориям (Кафе и рестораны, Магазин/услуги и т.д.)
- Интерактивно взаимодействовать с элементами на генплане
- Управлять состоянием через Vuex
- Адаптироваться под мобильные устройства

## Анимация линий

Компонент реализует систему анимации линий, соединяющих элементы на генплане:

1. **В админ-панели**: Администратор последовательно выставляет точки на карте, которые автоматически соединяются в ломаную линию
2. **Преобразование**: Ломанная линия преобразуется в набор SVG `<line>` элементов с координатами
3. **На фронтенде**: 
   - SVG `<line>` элементы парсятся и преобразуются в SVG `<path>` элементы
   - Анимация прорисовки линии реализована с помощью CSS (stroke-dasharray и stroke-dashoffset)

Это позволяет создавать интерактивные подсказки и визуальные связи между элементами на генплане, которые анимированно появляются при взаимодействии пользователя с элементами.

## Структура

```
commercial-plan-demo/
├── components/
│   ├── CommercialPlan.vue                    # Основной компонент
│   ├── ui/                                   # UI компоненты (кнопки, аккордеон)
│   ├── common/                               # Общие компоненты
│   └── pages/
│       └── flats/genplan/                    # Компоненты генплана
│           ├── Genplan.vue                   # Компонент-роутер генплана
│           ├── GenplanCommercial.vue         # Компонент коммерческих помещений
│           ├── GenplanCommercialHover.vue    # Обработка hover и анимация линий
│           ├── GenplanCommercialTooltip.vue   # Тултип с информацией
│           ├── GenplanCommercialBuildings.vue # Список зданий
│           ├── GenplanCommercialIcons.vue    # Иконки категорий
│           ├── GenplanCompass.vue            # Компас на карте
│           └── GenplanSvgDefs.vue            # SVG градиенты
└── store/
    └── line-animate.js                       # Vuex модуль для управления анимациями
```

## Технологии

- Vue.js 2.x
- Vuex
- SCSS (CSS Modules)
- Nuxt.js (в продакшене)

## Примечание

⚠️ Этот репозиторий создан исключительно для демонстрации кода и архитектуры компонента. Компонент не предназначен для запуска в изоляции, так как требует полной инфраструктуры проекта (Nuxt.js, плагины, миксины, глобальные стили). Компонент уже работает в продакшене на [beregovoy-kvartal.ru/commercial](https://beregovoy-kvartal.ru/commercial).
